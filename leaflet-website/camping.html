<!DOCTYPE html>
<html>
<head>

<title>Camping</title>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="leaflet-1.7.1.css"/>
<script src="leaflet-1.7.1.js"></script>
<script src="Leaflet.MultiOptionsPolyline.js"></script>
<script src="zepto.min.js"></script>

</head>
<body>

<div id="map" style="width: 600px; height: 600px;"></div>
<script>
  const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0) - 20;
  const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0) - 20;
  var mapdiv = document.getElementById('map');
  mapdiv.style.width = vw + 'px';
  mapdiv.style.height = vh + 'px';
  //var map = L.map('map').setView([51.505, -0.09], 13);
  /*
  var map = L.map('map');
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
  }).addTo(map);
  */

  var trackjson = 'pizero-gpslog_output/2020-09-06_driving_camp_site_scouting/combined.json.leaflet.json';
  var points = [{"lat":47.749795,"lng":12.217485,"alt":772.8,"meta":{"time":1392459749000,"hr":84}},{"lat":47.749931,"lng":12.217451,"alt":774,"meta":{"time":1392459752000,"hr":85}},{"lat":47.749962,"lng":12.217493,"alt":783,"meta":{"time":1392459760000,"hr":85}},{"lat":47.749961,"lng":12.217504,"alt":786.3,"meta":{"time":1392459772000,"hr":100}},{"lat":47.749952,"lng":12.217523,"alt":786.7,"meta":{"time":1392459782000,"hr":93}},{"lat":47.749943,"lng":12.217512,"alt":786.8,"meta":{"time":1392459793000,"hr":94}},{"lat":47.749897,"lng":12.217627,"alt":805.2,"meta":{"time":1392459803000,"hr":102}},{"lat":47.749878,"lng":12.2176,"alt":810.3,"meta":{"time":1392459814000,"hr":99}},{"lat":47.749641,"lng":12.217515,"alt":805,"meta":{"time":1392459826000,"hr":89}},{"lat":47.74954,"lng":12.217462,"alt":797.6,"meta":{"time":1392459836000,"hr":90}},{"lat":47.749616,"lng":12.217441,"alt":808.4,"meta":{"time":1392459847000,"hr":96}},{"lat":47.74961,"lng":12.217466,"alt":810,"meta":{"time":1392459858000,"hr":99}},{"lat":47.749602,"lng":12.217522,"alt":808.2,"meta":{"time":1392459870000,"hr":108}},{"lat":47.74976,"lng":12.217541,"alt":816.3,"meta":{"time":1392459880000,"hr":112}},{"lat":47.74984,"lng":12.217598,"alt":813.4,"meta":{"time":1392459891000,"hr":112}},{"lat":47.749912,"lng":12.217487,"alt":809.1,"meta":{"time":1392459901000,"hr":111}},{"lat":47.749833,"lng":12.217575,"alt":802.5,"meta":{"time":1392459913000,"hr":109}},{"lat":47.749925,"lng":12.217616,"alt":803.5,"meta":{"time":1392459923000,"hr":108}},{"lat":47.749903,"lng":12.217716,"alt":813,"meta":{"time":1392459934000,"hr":104}},{"lat":47.749922,"lng":12.217879,"alt":806.9,"meta":{"time":1392459945000,"hr":97}},{"lat":47.749931,"lng":12.218071,"alt":816,"meta":{"time":1392459957000,"hr":96}},{"lat":47.749984,"lng":12.21823,"alt":821.2,"meta":{"time":1392459968000,"hr":103}},{"lat":47.750151,"lng":12.218393,"alt":818.9,"meta":{"time":1392459980000,"hr":94}},{"lat":47.750137,"lng":12.218531,"alt":817.1,"meta":{"time":1392459989000,"hr":92}},{"lat":47.75021,"lng":12.218509,"alt":820.2,"meta":{"time":1392460000000,"hr":99}},{"lat":47.75024,"lng":12.218601,"alt":835.5,"meta":{"time":1392460012000,"hr":118}},{"lat":47.750261,"lng":12.218631,"alt":834.1,"meta":{"time":1392460023000,"hr":122}},{"lat":47.750307,"lng":12.218657,"alt":834.6,"meta":{"time":1392460035000,"hr":130}},{"lat":47.750478,"lng":12.218996,"alt":843.1,"meta":{"time":1392460044000,"hr":135}},{"lat":47.750511,"lng":12.219222,"alt":840,"meta":{"time":1392460056000,"hr":136}},{"lat":47.750466,"lng":12.219496,"alt":847.2,"meta":{"time":1392460067000,"hr":136}},{"lat":47.750521,"lng":12.219657,"alt":844.7,"meta":{"time":1392460079000,"hr":137}},{"lat":47.750539,"lng":12.219787,"alt":847.5,"meta":{"time":1392460090000,"hr":138}},{"lat":47.750537,"lng":12.220036,"alt":853.3,"meta":{"time":1392460101000,"hr":140}},{"lat":47.750546,"lng":12.220046,"alt":858.6,"meta":{"time":1392460112000,"hr":143}},{"lat":47.750572,"lng":12.220059,"alt":861.2,"meta":{"time":1392460124000,"hr":142}},{"lat":47.750723,"lng":12.220417,"alt":876.3,"meta":{"time":1392460135000,"hr":143}},{"lat":47.750755,"lng":12.220495,"alt":876.7,"meta":{"time":1392460145000,"hr":141}},{"lat":47.750731,"lng":12.220599,"alt":864.2,"meta":{"time":1392460156000,"hr":141}},{"lat":47.750736,"lng":12.220688,"alt":853.1,"meta":{"time":1392460168000,"hr":143}},{"lat":47.751008,"lng":12.221098,"alt":868.7,"meta":{"time":1392460179000,"hr":146}},{"lat":47.751161,"lng":12.221235,"alt":874.9,"meta":{"time":1392460190000,"hr":147}},{"lat":47.751359,"lng":12.221355,"alt":885.5,"meta":{"time":1392460200000,"hr":147}},{"lat":47.751313,"lng":12.221325,"alt":880.8,"meta":{"time":1392460212000,"hr":149}},{"lat":47.751444,"lng":12.221527,"alt":883.8,"meta":{"time":1392460223000,"hr":151}},{"lat":47.751471,"lng":12.221554,"alt":893.4,"meta":{"time":1392460234000,"hr":152}},{"lat":47.751522,"lng":12.221734,"alt":886.2,"meta":{"time":1392460245000,"hr":152}},{"lat":47.751539,"lng":12.222087,"alt":882.5,"meta":{"time":1392460256000,"hr":152}},{"lat":47.751457,"lng":12.222146,"alt":874.8,"meta":{"time":1392460268000,"hr":154}},{"lat":47.751648,"lng":12.222289,"alt":879.6,"meta":{"time":1392460279000,"hr":154}},{"lat":47.751653,"lng":12.222396,"alt":887.9,"meta":{"time":1392460289000,"hr":152}},{"lat":47.751651,"lng":12.222512,"alt":884.9,"meta":{"time":1392460299000,"hr":153}},{"lat":47.751728,"lng":12.222688,"alt":885.8,"meta":{"time":1392460310000,"hr":152}},{"lat":47.751843,"lng":12.222743,"alt":890.5,"meta":{"time":1392460321000,"hr":151}},{"lat":47.751891,"lng":12.222836,"alt":897.2,"meta":{"time":1392460333000,"hr":151}},{"lat":47.751932,"lng":12.222998,"alt":894.1,"meta":{"time":1392460344000,"hr":150}},{"lat":47.752135,"lng":12.223002,"alt":902.8,"meta":{"time":1392460355000,"hr":150}},{"lat":47.752132,"lng":12.222956,"alt":913.4,"meta":{"time":1392460367000,"hr":151}},{"lat":47.75222,"lng":12.223211,"alt":910.6,"meta":{"time":1392460378000,"hr":153}},{"lat":47.752313,"lng":12.223329,"alt":916.1,"meta":{"time":1392460389000,"hr":156}},{"lat":47.752391,"lng":12.223482,"alt":918.2,"meta":{"time":1392460401000,"hr":155}},{"lat":47.752377,"lng":12.223704,"alt":920.7,"meta":{"time":1392460411000,"hr":154}},{"lat":47.752376,"lng":12.223828,"alt":929.5,"meta":{"time":1392460422000,"hr":154}},{"lat":47.752152,"lng":12.223914,"alt":925.6,"meta":{"time":1392460433000,"hr":148}},{"lat":47.751995,"lng":12.223872,"alt":923.8,"meta":{"time":1392460444000,"hr":153}},{"lat":47.751862,"lng":12.223883,"alt":919.7,"meta":{"time":1392460456000,"hr":154}},{"lat":47.751855,"lng":12.223921,"alt":924.6,"meta":{"time":1392460467000,"hr":156}},{"lat":47.751822,"lng":12.223936,"alt":927.3,"meta":{"time":1392460477000,"hr":157}},{"lat":47.751787,"lng":12.22394,"alt":926.8,"meta":{"time":1392460488000,"hr":159}},{"lat":47.75174,"lng":12.22393,"alt":922.8,"meta":{"time":1392460499000,"hr":160}},{"lat":47.751313,"lng":12.224019,"alt":937.4,"meta":{"time":1392460511000,"hr":163}},{"lat":47.751173,"lng":12.224066,"alt":931.5,"meta":{"time":1392460520000,"hr":163}},{"lat":47.75091,"lng":12.224042,"alt":928.5,"meta":{"time":1392460532000,"hr":165}},{"lat":47.750942,"lng":12.224206,"alt":939.3,"meta":{"time":1392460543000,"hr":166}},{"lat":47.750928,"lng":12.224276,"alt":940.9,"meta":{"time":1392460553000,"hr":166}},{"lat":47.750642,"lng":12.224353,"alt":952.4,"meta":{"time":1392460564000,"hr":166}},{"lat":47.750526,"lng":12.224407,"alt":936.3,"meta":{"time":1392460576000,"hr":166}},{"lat":47.750451,"lng":12.224223,"alt":945.9,"meta":{"time":1392460587000,"hr":165}},{"lat":47.750279,"lng":12.224236,"alt":952.4,"meta":{"time":1392460599000,"hr":164}},{"lat":47.750238,"lng":12.224232,"alt":955.7,"meta":{"time":1392460610000,"hr":163}},{"lat":47.749943,"lng":12.224202,"alt":966.1,"meta":{"time":1392460621000,"hr":161}},{"lat":47.749754,"lng":12.224342,"alt":959.5,"meta":{"time":1392460632000,"hr":159}},{"lat":47.749764,"lng":12.224322,"alt":949.3,"meta":{"time":1392460643000,"hr":159}},{"lat":47.749494,"lng":12.224257,"alt":952.8,"meta":{"time":1392460654000,"hr":156}},{"lat":47.749432,"lng":12.224233,"alt":969.6,"meta":{"time":1392460666000,"hr":155}},{"lat":47.749288,"lng":12.224191,"alt":977.5,"meta":{"time":1392460677000,"hr":155}},{"lat":47.749078,"lng":12.224232,"alt":972.6,"meta":{"time":1392460688000,"hr":156}},{"lat":47.748929,"lng":12.224158,"alt":972.5,"meta":{"time":1392460700000,"hr":158}},{"lat":47.748766,"lng":12.224177,"alt":973,"meta":{"time":1392460711000,"hr":160}},{"lat":47.748711,"lng":12.224058,"alt":985.5,"meta":{"time":1392460722000,"hr":161}},{"lat":47.748574,"lng":12.223957,"alt":981.7,"meta":{"time":1392460732000,"hr":161}},{"lat":47.748416,"lng":12.223964,"alt":989.1,"meta":{"time":1392460744000,"hr":161}},{"lat":47.748353,"lng":12.224067,"alt":988.6,"meta":{"time":1392460755000,"hr":163}},{"lat":47.748175,"lng":12.223929,"alt":990,"meta":{"time":1392460766000,"hr":163}},{"lat":47.74803,"lng":12.223955,"alt":999.1,"meta":{"time":1392460777000,"hr":164}},{"lat":47.747899,"lng":12.224057,"alt":997.6,"meta":{"time":1392460788000,"hr":163}},{"lat":47.747751,"lng":12.224053,"alt":1002.4,"meta":{"time":1392460799000,"hr":165}},{"lat":47.747569,"lng":12.224144,"alt":998.1,"meta":{"time":1392460810000,"hr":165}},{"lat":47.747483,"lng":12.224171,"alt":996.8,"meta":{"time":1392460821000,"hr":165}},{"lat":47.74727,"lng":12.224012,"alt":1000.5,"meta":{"time":1392460832000,"hr":165}},{"lat":47.747101,"lng":12.223996,"alt":1005.8,"meta":{"time":1392460843000,"hr":166}},{"lat":47.747019,"lng":12.224028,"alt":1008.9,"meta":{"time":1392460855000,"hr":167}},{"lat":47.74693,"lng":12.224091,"alt":1017.5,"meta":{"time":1392460865000,"hr":168}},{"lat":47.74674,"lng":12.223991,"alt":1018.7,"meta":{"time":1392460876000,"hr":167}},{"lat":47.746628,"lng":12.22397,"alt":1024,"meta":{"time":1392460887000,"hr":167}},{"lat":47.746455,"lng":12.223927,"alt":1011.7,"meta":{"time":1392460899000,"hr":168}},{"lat":47.746313,"lng":12.223981,"alt":1015.5,"meta":{"time":1392460910000,"hr":168}},{"lat":47.746245,"lng":12.224031,"alt":1020.8,"meta":{"time":1392460920000,"hr":166}},{"lat":47.746016,"lng":12.224274,"alt":1016.3,"meta":{"time":1392460931000,"hr":165}},{"lat":47.746168,"lng":12.224381,"alt":1027.1,"meta":{"time":1392460943000,"hr":166}},{"lat":47.746108,"lng":12.22472,"alt":1019.5,"meta":{"time":1392460953000,"hr":165}},{"lat":47.745965,"lng":12.22507,"alt":1019.4,"meta":{"time":1392460965000,"hr":165}},{"lat":47.746068,"lng":12.225237,"alt":1028.3,"meta":{"time":1392460976000,"hr":167}},{"lat":47.745794,"lng":12.225347,"alt":1027.2,"meta":{"time":1392460987000,"hr":166}},{"lat":47.745743,"lng":12.225519,"alt":1023.8,"meta":{"time":1392460996000,"hr":167}},{"lat":47.745653,"lng":12.225605,"alt":1016.7,"meta":{"time":1392461007000,"hr":164}},{"lat":47.745369,"lng":12.225701,"alt":1014,"meta":{"time":1392461019000,"hr":159}},{"lat":47.745226,"lng":12.225908,"alt":1020,"meta":{"time":1392461030000,"hr":155}},{"lat":47.745194,"lng":12.226163,"alt":1022.9,"meta":{"time":1392461042000,"hr":151}},{"lat":47.745024,"lng":12.226301,"alt":1024.1,"meta":{"time":1392461051000,"hr":149}},{"lat":47.744972,"lng":12.226558,"alt":1029.7,"meta":{"time":1392461063000,"hr":143}},{"lat":47.744802,"lng":12.226636,"alt":1025,"meta":{"time":1392461073000,"hr":138}},{"lat":47.744795,"lng":12.2269,"alt":1027.1,"meta":{"time":1392461084000,"hr":133}},{"lat":47.744685,"lng":12.22713,"alt":1026.9,"meta":{"time":1392461095000,"hr":134}},{"lat":47.744609,"lng":12.227311,"alt":1032.9,"meta":{"time":1392461105000,"hr":132}},{"lat":47.744489,"lng":12.227581,"alt":1029.4,"meta":{"time":1392461117000,"hr":133}},{"lat":47.744592,"lng":12.227744,"alt":1030.7,"meta":{"time":1392461128000,"hr":135}},{"lat":47.744433,"lng":12.227888,"alt":1039.9,"meta":{"time":1392461139000,"hr":136}},{"lat":47.744334,"lng":12.228113,"alt":1027.2,"meta":{"time":1392461149000,"hr":139}},{"lat":47.744338,"lng":12.22812,"alt":1034.5,"meta":{"time":1392461161000,"hr":140}},{"lat":47.744334,"lng":12.22814,"alt":1033.2,"meta":{"time":1392461170000,"hr":141}},{"lat":47.744012,"lng":12.228548,"alt":1036.7,"meta":{"time":1392461181000,"hr":144}},{"lat":47.743909,"lng":12.228678,"alt":1037.8,"meta":{"time":1392461191000,"hr":147}},{"lat":47.744052,"lng":12.228852,"alt":1048.6,"meta":{"time":1392461203000,"hr":150}},{"lat":47.743961,"lng":12.229261,"alt":1047.3,"meta":{"time":1392461213000,"hr":150}},{"lat":47.743845,"lng":12.229345,"alt":1047,"meta":{"time":1392461223000,"hr":147}},{"lat":47.743872,"lng":12.229466,"alt":1057.4,"meta":{"time":1392461233000,"hr":146}},{"lat":47.743793,"lng":12.229743,"alt":1054.5,"meta":{"time":1392461245000,"hr":147}},{"lat":47.74381,"lng":12.229944,"alt":1055.8,"meta":{"time":1392461255000,"hr":147}},{"lat":47.743862,"lng":12.230164,"alt":1049.3,"meta":{"time":1392461266000,"hr":146}},{"lat":47.743985,"lng":12.230144,"alt":1057.8,"meta":{"time":1392461276000,"hr":147}},{"lat":47.744002,"lng":12.230221,"alt":1054.8,"meta":{"time":1392461287000,"hr":145}},{"lat":47.744063,"lng":12.230178,"alt":1067.8,"meta":{"time":1392461298000,"hr":144}},{"lat":47.744026,"lng":12.230206,"alt":1063.1,"meta":{"time":1392461311000,"hr":141}},{"lat":47.744009,"lng":12.23021,"alt":1059.6,"meta":{"time":1392461321000,"hr":143}},{"lat":47.744012,"lng":12.230213,"alt":1060.8,"meta":{"time":1392461333000,"hr":144}},{"lat":47.744011,"lng":12.230221,"alt":1060.5,"meta":{"time":1392461343000,"hr":145}},{"lat":47.744002,"lng":12.230218,"alt":1058.9,"meta":{"time":1392461352000,"hr":142}},{"lat":47.743998,"lng":12.230217,"alt":1058.2,"meta":{"time":1392461362000,"hr":139}},{"lat":47.74401,"lng":12.230243,"alt":1059,"meta":{"time":1392461373000,"hr":130}},{"lat":47.74405,"lng":12.230311,"alt":1061.9,"meta":{"time":1392461385000,"hr":129}},{"lat":47.744095,"lng":12.230835,"alt":1059.5,"meta":{"time":1392461397000,"hr":133}},{"lat":47.744247,"lng":12.230923,"alt":1059.2,"meta":{"time":1392461409000,"hr":131}},{"lat":47.744294,"lng":12.231102,"alt":1059.4,"meta":{"time":1392461420000,"hr":130}},{"lat":47.744453,"lng":12.231245,"alt":1059.4,"meta":{"time":1392461434000,"hr":131}},{"lat":47.74449,"lng":12.231391,"alt":1059.4,"meta":{"time":1392461442000,"hr":138}},{"lat":47.744622,"lng":12.231372,"alt":1059.8,"meta":{"time":1392461455000,"hr":143}},{"lat":47.744746,"lng":12.23132,"alt":1059.5,"meta":{"time":1392461469000,"hr":148}},{"lat":47.744901,"lng":12.231458,"alt":1077.1,"meta":{"time":1392461481000,"hr":152}},{"lat":47.744898,"lng":12.231519,"alt":1074.4,"meta":{"time":1392461486000,"hr":152}},{"lat":47.744806,"lng":12.231799,"alt":1074.7,"meta":{"time":1392461497000,"hr":155}},{"lat":47.744902,"lng":12.231816,"alt":1078.8,"meta":{"time":1392461506000,"hr":156}},{"lat":47.74508,"lng":12.231755,"alt":1082,"meta":{"time":1392461517000,"hr":158}},{"lat":47.745216,"lng":12.231868,"alt":1083.8,"meta":{"time":1392461527000,"hr":159}},{"lat":47.745258,"lng":12.231998,"alt":1082.2,"meta":{"time":1392461538000,"hr":159}},{"lat":47.745243,"lng":12.232078,"alt":1088.1,"meta":{"time":1392461548000,"hr":159}},{"lat":47.745332,"lng":12.232002,"alt":1097.6,"meta":{"time":1392461560000,"hr":160}},{"lat":47.745406,"lng":12.231881,"alt":1107.1,"meta":{"time":1392461569000,"hr":161}},{"lat":47.745397,"lng":12.231675,"alt":1099.8,"meta":{"time":1392461579000,"hr":161}},{"lat":47.745445,"lng":12.231408,"alt":1101.6,"meta":{"time":1392461590000,"hr":162}},{"lat":47.745397,"lng":12.231349,"alt":1110.8,"meta":{"time":1392461600000,"hr":162}},{"lat":47.74539,"lng":12.231255,"alt":1114.4,"meta":{"time":1392461610000,"hr":160}},{"lat":47.745438,"lng":12.23103,"alt":1119.2,"meta":{"time":1392461621000,"hr":160}},{"lat":47.745649,"lng":12.231207,"alt":1105.8,"meta":{"time":1392461634000,"hr":159}},{"lat":47.745601,"lng":12.231112,"alt":1113.4,"meta":{"time":1392461644000,"hr":159}},{"lat":47.745617,"lng":12.231193,"alt":1127.4,"meta":{"time":1392461656000,"hr":158}},{"lat":47.745737,"lng":12.231255,"alt":1127.7,"meta":{"time":1392461667000,"hr":159}},{"lat":47.745763,"lng":12.231414,"alt":1129.3,"meta":{"time":1392461678000,"hr":160}},{"lat":47.745755,"lng":12.231225,"alt":1134.9,"meta":{"time":1392461689000,"hr":161}},{"lat":47.745893,"lng":12.231133,"alt":1142.3,"meta":{"time":1392461701000,"hr":164}},{"lat":47.745965,"lng":12.2311,"alt":1144.9,"meta":{"time":1392461712000,"hr":166}},{"lat":47.746051,"lng":12.231249,"alt":1145.4,"meta":{"time":1392461724000,"hr":165}},{"lat":47.746031,"lng":12.231371,"alt":1151.4,"meta":{"time":1392461733000,"hr":166}},{"lat":47.745989,"lng":12.231592,"alt":1139.3,"meta":{"time":1392461744000,"hr":167}},{"lat":47.746244,"lng":12.231611,"alt":1137.1,"meta":{"time":1392461756000,"hr":167}},{"lat":47.746316,"lng":12.231812,"alt":1127.6,"meta":{"time":1392461767000,"hr":166}},{"lat":47.74628,"lng":12.232016,"alt":1132.3,"meta":{"time":1392461777000,"hr":166}},{"lat":47.746293,"lng":12.232163,"alt":1132.7,"meta":{"time":1392461788000,"hr":166}},{"lat":47.746377,"lng":12.232242,"alt":1136,"meta":{"time":1392461798000,"hr":167}},{"lat":47.746382,"lng":12.232408,"alt":1135.9,"meta":{"time":1392461809000,"hr":166}},{"lat":47.746447,"lng":12.232554,"alt":1148,"meta":{"time":1392461821000,"hr":166}},{"lat":47.746428,"lng":12.232685,"alt":1152.3,"meta":{"time":1392461832000,"hr":164}},{"lat":47.746427,"lng":12.23285,"alt":1149.6,"meta":{"time":1392461842000,"hr":164}},{"lat":47.746614,"lng":12.232949,"alt":1156.6,"meta":{"time":1392461853000,"hr":164}},{"lat":47.746715,"lng":12.233114,"alt":1151.2,"meta":{"time":1392461865000,"hr":164}},{"lat":47.746656,"lng":12.233429,"alt":1152.2,"meta":{"time":1392461876000,"hr":163}},{"lat":47.74668,"lng":12.233646,"alt":1152.9,"meta":{"time":1392461886000,"hr":164}},{"lat":47.746662,"lng":12.233855,"alt":1152.8,"meta":{"time":1392461897000,"hr":164}},{"lat":47.746683,"lng":12.233999,"alt":1153.9,"meta":{"time":1392461907000,"hr":163}},{"lat":47.746788,"lng":12.234121,"alt":1154.2,"meta":{"time":1392461917000,"hr":161}},{"lat":47.746823,"lng":12.234213,"alt":1158.8,"meta":{"time":1392461928000,"hr":156}},{"lat":47.746849,"lng":12.234274,"alt":1161.5,"meta":{"time":1392461939000,"hr":152}},{"lat":47.746872,"lng":12.23441,"alt":1161.5,"meta":{"time":1392461949000,"hr":151}},{"lat":47.74694,"lng":12.234454,"alt":1165.3,"meta":{"time":1392461960000,"hr":151}},{"lat":47.746881,"lng":12.234642,"alt":1173.4,"meta":{"time":1392461972000,"hr":153}},{"lat":47.746898,"lng":12.234723,"alt":1174.9,"meta":{"time":1392461983000,"hr":154}},{"lat":47.746942,"lng":12.234708,"alt":1172,"meta":{"time":1392461993000,"hr":157}},{"lat":47.747165,"lng":12.234838,"alt":1173.8,"meta":{"time":1392462004000,"hr":159}},{"lat":47.747209,"lng":12.234939,"alt":1179.7,"meta":{"time":1392462015000,"hr":162}},{"lat":47.747159,"lng":12.235045,"alt":1181.3,"meta":{"time":1392462027000,"hr":163}},{"lat":47.747219,"lng":12.23512,"alt":1187.5,"meta":{"time":1392462038000,"hr":163}},{"lat":47.747328,"lng":12.235192,"alt":1190.5,"meta":{"time":1392462048000,"hr":164}},{"lat":47.747419,"lng":12.235278,"alt":1189,"meta":{"time":1392462058000,"hr":165}},{"lat":47.747436,"lng":12.235449,"alt":1188.7,"meta":{"time":1392462069000,"hr":163}},{"lat":47.74752,"lng":12.235502,"alt":1192.6,"meta":{"time":1392462080000,"hr":164}},{"lat":47.74758,"lng":12.235581,"alt":1195.1,"meta":{"time":1392462090000,"hr":165}},{"lat":47.747617,"lng":12.235694,"alt":1199.1,"meta":{"time":1392462102000,"hr":166}},{"lat":47.747694,"lng":12.235783,"alt":1201.5,"meta":{"time":1392462112000,"hr":168}},{"lat":47.747765,"lng":12.235888,"alt":1201.1,"meta":{"time":1392462123000,"hr":167}},{"lat":47.747822,"lng":12.23601,"alt":1206.2,"meta":{"time":1392462134000,"hr":168}},{"lat":47.747906,"lng":12.236098,"alt":1209.4,"meta":{"time":1392462145000,"hr":166}},{"lat":47.748002,"lng":12.236202,"alt":1211.5,"meta":{"time":1392462155000,"hr":166}},{"lat":47.748093,"lng":12.236281,"alt":1213.7,"meta":{"time":1392462165000,"hr":164}},{"lat":47.748227,"lng":12.236468,"alt":1210.9,"meta":{"time":1392462176000,"hr":163}},{"lat":47.748239,"lng":12.236613,"alt":1211.3,"meta":{"time":1392462186000,"hr":161}},{"lat":47.748224,"lng":12.236712,"alt":1215.1,"meta":{"time":1392462196000,"hr":163}},{"lat":47.748238,"lng":12.236834,"alt":1217.8,"meta":{"time":1392462207000,"hr":161}},{"lat":47.748248,"lng":12.236963,"alt":1220.1,"meta":{"time":1392462217000,"hr":159}},{"lat":47.748173,"lng":12.237034,"alt":1224.9,"meta":{"time":1392462227000,"hr":160}},{"lat":47.748136,"lng":12.237042,"alt":1224.2,"meta":{"time":1392462237000,"hr":160}},{"lat":47.748091,"lng":12.237022,"alt":1224,"meta":{"time":1392462247000,"hr":159}},{"lat":47.748118,"lng":12.237072,"alt":1228.3,"meta":{"time":1392462257000,"hr":159}},{"lat":47.748095,"lng":12.237235,"alt":1231.2,"meta":{"time":1392462267000,"hr":160}},{"lat":47.748133,"lng":12.237342,"alt":1233.6,"meta":{"time":1392462277000,"hr":162}},{"lat":47.748141,"lng":12.23744,"alt":1237.6,"meta":{"time":1392462287000,"hr":165}},{"lat":47.748158,"lng":12.237521,"alt":1238.4,"meta":{"time":1392462297000,"hr":165}},{"lat":47.748086,"lng":12.237665,"alt":1240.6,"meta":{"time":1392462308000,"hr":164}},{"lat":47.748058,"lng":12.237766,"alt":1247.4,"meta":{"time":1392462318000,"hr":162}},{"lat":47.748072,"lng":12.237632,"alt":1254.5,"meta":{"time":1392462328000,"hr":161}},{"lat":47.748034,"lng":12.237653,"alt":1251.6,"meta":{"time":1392462338000,"hr":162}},{"lat":47.747971,"lng":12.237641,"alt":1242.2,"meta":{"time":1392462349000,"hr":161}},{"lat":47.747933,"lng":12.237609,"alt":1249.1,"meta":{"time":1392462359000,"hr":160}},{"lat":47.747872,"lng":12.237533,"alt":1257.7,"meta":{"time":1392462371000,"hr":160}},{"lat":47.747785,"lng":12.237534,"alt":1253.8,"meta":{"time":1392462381000,"hr":161}},{"lat":47.74773,"lng":12.237574,"alt":1255.7,"meta":{"time":1392462392000,"hr":161}},{"lat":47.747725,"lng":12.237634,"alt":1255.1,"meta":{"time":1392462402000,"hr":161}},{"lat":47.747758,"lng":12.237671,"alt":1257.3,"meta":{"time":1392462412000,"hr":161}},{"lat":47.747821,"lng":12.237767,"alt":1261.3,"meta":{"time":1392462424000,"hr":160}},{"lat":47.7478,"lng":12.237864,"alt":1262.5,"meta":{"time":1392462434000,"hr":161}},{"lat":47.747706,"lng":12.23779,"alt":1271.9,"meta":{"time":1392462444000,"hr":163}},{"lat":47.74764,"lng":12.237744,"alt":1269.9,"meta":{"time":1392462455000,"hr":163}},{"lat":47.747621,"lng":12.2377,"alt":1271.7,"meta":{"time":1392462466000,"hr":164}},{"lat":47.747585,"lng":12.237722,"alt":1276.7,"meta":{"time":1392462476000,"hr":160}},{"lat":47.747476,"lng":12.237654,"alt":1273,"meta":{"time":1392462487000,"hr":157}},{"lat":47.747391,"lng":12.237628,"alt":1272.5,"meta":{"time":1392462497000,"hr":157}},{"lat":47.747347,"lng":12.237619,"alt":1275.1,"meta":{"time":1392462507000,"hr":158}},{"lat":47.747326,"lng":12.237652,"alt":1273.4,"meta":{"time":1392462517000,"hr":158}},{"lat":47.747407,"lng":12.237771,"alt":1277.9,"meta":{"time":1392462528000,"hr":155}},{"lat":47.74747,"lng":12.237855,"alt":1279.4,"meta":{"time":1392462539000,"hr":156}},{"lat":47.747493,"lng":12.23794,"alt":1283.7,"meta":{"time":1392462549000,"hr":156}},{"lat":47.747494,"lng":12.238038,"alt":1284.9,"meta":{"time":1392462560000,"hr":155}},{"lat":47.747418,"lng":12.23815,"alt":1287.6,"meta":{"time":1392462572000,"hr":155}},{"lat":47.74737,"lng":12.238128,"alt":1294.4,"meta":{"time":1392462583000,"hr":156}},{"lat":47.747313,"lng":12.23809,"alt":1293.5,"meta":{"time":1392462593000,"hr":156}},{"lat":47.747243,"lng":12.238017,"alt":1293.9,"meta":{"time":1392462603000,"hr":158}},{"lat":47.747174,"lng":12.238032,"alt":1296.4,"meta":{"time":1392462614000,"hr":159}},{"lat":47.747214,"lng":12.238102,"alt":1298.7,"meta":{"time":1392462627000,"hr":162}},{"lat":47.74722,"lng":12.238235,"alt":1298.7,"meta":{"time":1392462637000,"hr":162}},{"lat":47.747247,"lng":12.238304,"alt":1302.8,"meta":{"time":1392462647000,"hr":164}},{"lat":47.747264,"lng":12.238376,"alt":1304.8,"meta":{"time":1392462658000,"hr":164}},{"lat":47.747247,"lng":12.238444,"alt":1309.7,"meta":{"time":1392462669000,"hr":164}},{"lat":47.747182,"lng":12.238436,"alt":1312,"meta":{"time":1392462680000,"hr":167}},{"lat":47.747168,"lng":12.238384,"alt":1309.9,"meta":{"time":1392462691000,"hr":166}},{"lat":47.747136,"lng":12.238343,"alt":1311.3,"meta":{"time":1392462703000,"hr":167}},{"lat":47.747053,"lng":12.238334,"alt":1311.9,"meta":{"time":1392462714000,"hr":165}},{"lat":47.746974,"lng":12.238352,"alt":1308,"meta":{"time":1392462725000,"hr":163}},{"lat":47.746976,"lng":12.238425,"alt":1317.9,"meta":{"time":1392462737000,"hr":162}},{"lat":47.746973,"lng":12.238479,"alt":1317.1,"meta":{"time":1392462748000,"hr":161}},{"lat":47.746964,"lng":12.238527,"alt":1318.4,"meta":{"time":1392462758000,"hr":159}},{"lat":47.746991,"lng":12.238653,"alt":1323,"meta":{"time":1392462768000,"hr":155}},{"lat":47.746976,"lng":12.238697,"alt":1328.3,"meta":{"time":1392462778000,"hr":154}},{"lat":47.746864,"lng":12.238664,"alt":1325.6,"meta":{"time":1392462790000,"hr":155}},{"lat":47.746843,"lng":12.238666,"alt":1326.3,"meta":{"time":1392462801000,"hr":160}},{"lat":47.746912,"lng":12.238763,"alt":1327.6,"meta":{"time":1392462812000,"hr":164}},{"lat":47.746913,"lng":12.238853,"alt":1332.2,"meta":{"time":1392462822000,"hr":166}},{"lat":47.746863,"lng":12.23888,"alt":1336.5,"meta":{"time":1392462833000,"hr":168}},{"lat":47.746769,"lng":12.238871,"alt":1336.2,"meta":{"time":1392462844000,"hr":168}},{"lat":47.74678,"lng":12.238919,"alt":1339.5,"meta":{"time":1392462855000,"hr":168}},{"lat":47.746813,"lng":12.239017,"alt":1344.1,"meta":{"time":1392462866000,"hr":164}},{"lat":47.746851,"lng":12.239101,"alt":1342.8,"meta":{"time":1392462877000,"hr":165}},{"lat":47.746824,"lng":12.239154,"alt":1349.3,"meta":{"time":1392462888000,"hr":166}},{"lat":47.746738,"lng":12.239148,"alt":1354.2,"meta":{"time":1392462898000,"hr":165}},{"lat":47.746653,"lng":12.239156,"alt":1353.3,"meta":{"time":1392462908000,"hr":165}},{"lat":47.746541,"lng":12.239292,"alt":1352.5,"meta":{"time":1392462919000,"hr":164}},{"lat":47.746616,"lng":12.239309,"alt":1353.2,"meta":{"time":1392462930000,"hr":165}},{"lat":47.746628,"lng":12.239375,"alt":1352.7,"meta":{"time":1392462942000,"hr":167}},{"lat":47.746578,"lng":12.239403,"alt":1352.7,"meta":{"time":1392462953000,"hr":167}},{"lat":47.746541,"lng":12.239475,"alt":1352.8,"meta":{"time":1392462963000,"hr":168}},{"lat":47.746537,"lng":12.239548,"alt":1352.9,"meta":{"time":1392462974000,"hr":170}},{"lat":47.74652,"lng":12.239613,"alt":1352.9,"meta":{"time":1392462984000,"hr":169}},{"lat":47.746465,"lng":12.239667,"alt":1352.7,"meta":{"time":1392462997000,"hr":169}},{"lat":47.746439,"lng":12.239717,"alt":1352.7,"meta":{"time":1392463009000,"hr":167}},{"lat":47.746345,"lng":12.239739,"alt":1352.6,"meta":{"time":1392463020000,"hr":166}},{"lat":47.746336,"lng":12.23981,"alt":1352.6,"meta":{"time":1392463033000,"hr":164}},{"lat":47.746375,"lng":12.239881,"alt":1376.1,"meta":{"time":1392463042000,"hr":164}},{"lat":47.746365,"lng":12.239943,"alt":1377.5,"meta":{"time":1392463047000,"hr":165}},{"lat":47.746341,"lng":12.240086,"alt":1379,"meta":{"time":1392463059000,"hr":167}},{"lat":47.746319,"lng":12.240168,"alt":1380.6,"meta":{"time":1392463069000,"hr":167}},{"lat":47.746335,"lng":12.240233,"alt":1387.8,"meta":{"time":1392463079000,"hr":166}},{"lat":47.746362,"lng":12.240317,"alt":1385.3,"meta":{"time":1392463089000,"hr":166}},{"lat":47.746303,"lng":12.240308,"alt":1389.8,"meta":{"time":1392463102000,"hr":165}},{"lat":47.746163,"lng":12.240348,"alt":1387.3,"meta":{"time":1392463112000,"hr":166}},{"lat":47.746124,"lng":12.24046,"alt":1393.2,"meta":{"time":1392463122000,"hr":165}},{"lat":47.746112,"lng":12.240613,"alt":1393.8,"meta":{"time":1392463133000,"hr":165}},{"lat":47.74607,"lng":12.240732,"alt":1399.2,"meta":{"time":1392463144000,"hr":166}},{"lat":47.746073,"lng":12.240878,"alt":1401.9,"meta":{"time":1392463154000,"hr":165}},{"lat":47.746046,"lng":12.240942,"alt":1401.5,"meta":{"time":1392463167000,"hr":162}},{"lat":47.746055,"lng":12.240898,"alt":1397.5,"meta":{"time":1392463177000,"hr":161}},{"lat":47.746155,"lng":12.240937,"alt":1400.5,"meta":{"time":1392463187000,"hr":163}},{"lat":47.746268,"lng":12.240993,"alt":1405.2,"meta":{"time":1392463198000,"hr":163}},{"lat":47.746263,"lng":12.241104,"alt":1408.9,"meta":{"time":1392463208000,"hr":162}},{"lat":47.746184,"lng":12.241115,"alt":1406.7,"meta":{"time":1392463218000,"hr":163}},{"lat":47.746098,"lng":12.241176,"alt":1412.5,"meta":{"time":1392463229000,"hr":163}},{"lat":47.746047,"lng":12.241241,"alt":1414.9,"meta":{"time":1392463240000,"hr":162}},{"lat":47.746,"lng":12.241245,"alt":1410.4,"meta":{"time":1392463250000,"hr":162}},{"lat":47.745948,"lng":12.241316,"alt":1419.6,"meta":{"time":1392463262000,"hr":162}},{"lat":47.745968,"lng":12.24139,"alt":1415.4,"meta":{"time":1392463273000,"hr":162}},{"lat":47.745986,"lng":12.241452,"alt":1419.6,"meta":{"time":1392463283000,"hr":161}},{"lat":47.746067,"lng":12.241494,"alt":1421.7,"meta":{"time":1392463295000,"hr":162}},{"lat":47.746136,"lng":12.241604,"alt":1424.3,"meta":{"time":1392463306000,"hr":161}},{"lat":47.746202,"lng":12.241752,"alt":1423.6,"meta":{"time":1392463317000,"hr":160}},{"lat":47.74612,"lng":12.241784,"alt":1427.8,"meta":{"time":1392463329000,"hr":161}},{"lat":47.745989,"lng":12.241818,"alt":1431.7,"meta":{"time":1392463340000,"hr":160}},{"lat":47.745904,"lng":12.241831,"alt":1431.9,"meta":{"time":1392463351000,"hr":160}},{"lat":47.745882,"lng":12.241936,"alt":1432.9,"meta":{"time":1392463363000,"hr":160}},{"lat":47.745853,"lng":12.241925,"alt":1432.5,"meta":{"time":1392463374000,"hr":161}},{"lat":47.745719,"lng":12.242049,"alt":1438.9,"meta":{"time":1392463386000,"hr":161}},{"lat":47.745685,"lng":12.242093,"alt":1439.3,"meta":{"time":1392463401000,"hr":161}},{"lat":47.745609,"lng":12.242113,"alt":1442.9,"meta":{"time":1392463413000,"hr":160}},{"lat":47.7456,"lng":12.242136,"alt":1444.2,"meta":{"time":1392463419000,"hr":161}},{"lat":47.745556,"lng":12.242182,"alt":1447.9,"meta":{"time":1392463429000,"hr":161}},{"lat":47.745514,"lng":12.242228,"alt":1447.4,"meta":{"time":1392463440000,"hr":162}},{"lat":47.745413,"lng":12.24226,"alt":1447.6,"meta":{"time":1392463457000,"hr":163}},{"lat":47.745326,"lng":12.242273,"alt":1447.8,"meta":{"time":1392463469000,"hr":162}},{"lat":47.745259,"lng":12.242311,"alt":1448.4,"meta":{"time":1392463474000,"hr":162}},{"lat":47.745187,"lng":12.242382,"alt":1448.6,"meta":{"time":1392463485000,"hr":164}},{"lat":47.745166,"lng":12.242428,"alt":1446.9,"meta":{"time":1392463497000,"hr":165}},{"lat":47.745139,"lng":12.242422,"alt":1454.4,"meta":{"time":1392463503000,"hr":165}},{"lat":47.74507,"lng":12.242499,"alt":1453.1,"meta":{"time":1392463512000,"hr":163}},{"lat":47.744986,"lng":12.242538,"alt":1459.4,"meta":{"time":1392463525000,"hr":162}},{"lat":47.744933,"lng":12.242514,"alt":1457.7,"meta":{"time":1392463535000,"hr":162}},{"lat":47.744903,"lng":12.242537,"alt":1465,"meta":{"time":1392463546000,"hr":162}},{"lat":47.744861,"lng":12.242617,"alt":1466.9,"meta":{"time":1392463558000,"hr":164}},{"lat":47.744837,"lng":12.242586,"alt":1476.3,"meta":{"time":1392463568000,"hr":163}},{"lat":47.744772,"lng":12.242595,"alt":1472.4,"meta":{"time":1392463579000,"hr":163}},{"lat":47.744721,"lng":12.242662,"alt":1474.4,"meta":{"time":1392463589000,"hr":161}},{"lat":47.744647,"lng":12.242721,"alt":1483.3,"meta":{"time":1392463600000,"hr":161}},{"lat":47.744581,"lng":12.24274,"alt":1485.7,"meta":{"time":1392463611000,"hr":162}},{"lat":47.744549,"lng":12.242814,"alt":1486.4,"meta":{"time":1392463621000,"hr":161}},{"lat":47.744603,"lng":12.242878,"alt":1490.8,"meta":{"time":1392463632000,"hr":160}},{"lat":47.744638,"lng":12.242908,"alt":1489.9,"meta":{"time":1392463643000,"hr":162}},{"lat":47.74464,"lng":12.242957,"alt":1490.8,"meta":{"time":1392463655000,"hr":164}},{"lat":47.74465,"lng":12.243112,"alt":1486.3,"meta":{"time":1392463666000,"hr":165}},{"lat":47.744605,"lng":12.243239,"alt":1492.2,"meta":{"time":1392463676000,"hr":165}},{"lat":47.744484,"lng":12.243343,"alt":1488.2,"meta":{"time":1392463686000,"hr":164}},{"lat":47.7444,"lng":12.243433,"alt":1481.1,"meta":{"time":1392463697000,"hr":162}},{"lat":47.744287,"lng":12.243545,"alt":1485.3,"meta":{"time":1392463707000,"hr":159}},{"lat":47.74423,"lng":12.243564,"alt":1489.3,"meta":{"time":1392463718000,"hr":159}},{"lat":47.744194,"lng":12.243487,"alt":1494.6,"meta":{"time":1392463728000,"hr":160}},{"lat":47.744172,"lng":12.243531,"alt":1505.8,"meta":{"time":1392463739000,"hr":161}},{"lat":47.744094,"lng":12.243643,"alt":1506,"meta":{"time":1392463751000,"hr":162}},{"lat":47.744041,"lng":12.243708,"alt":1510.6,"meta":{"time":1392463761000,"hr":164}},{"lat":47.743964,"lng":12.243742,"alt":1510.7,"meta":{"time":1392463773000,"hr":166}},{"lat":47.743879,"lng":12.243751,"alt":1513,"meta":{"time":1392463783000,"hr":165}},{"lat":47.74384,"lng":12.243771,"alt":1518.3,"meta":{"time":1392463793000,"hr":165}},{"lat":47.743801,"lng":12.243784,"alt":1516.1,"meta":{"time":1392463805000,"hr":164}},{"lat":47.743819,"lng":12.243802,"alt":1517.6,"meta":{"time":1392463815000,"hr":164}},{"lat":47.743902,"lng":12.243885,"alt":1520.7,"meta":{"time":1392463826000,"hr":165}},{"lat":47.74401,"lng":12.243907,"alt":1527.1,"meta":{"time":1392463837000,"hr":166}},{"lat":47.744101,"lng":12.243927,"alt":1527.5,"meta":{"time":1392463848000,"hr":166}},{"lat":47.744121,"lng":12.243982,"alt":1525.5,"meta":{"time":1392463859000,"hr":164}},{"lat":47.744158,"lng":12.243992,"alt":1529.8,"meta":{"time":1392463871000,"hr":163}},{"lat":47.744186,"lng":12.244003,"alt":1531.8,"meta":{"time":1392463880000,"hr":162}},{"lat":47.744237,"lng":12.244044,"alt":1527.3,"meta":{"time":1392463892000,"hr":163}},{"lat":47.744286,"lng":12.244148,"alt":1524.8,"meta":{"time":1392463903000,"hr":163}},{"lat":47.744304,"lng":12.244195,"alt":1533.9,"meta":{"time":1392463913000,"hr":165}},{"lat":47.744327,"lng":12.244249,"alt":1539.9,"meta":{"time":1392463923000,"hr":165}},{"lat":47.744575,"lng":12.244274,"alt":1544.1,"meta":{"time":1392463934000,"hr":164}},{"lat":47.744622,"lng":12.244263,"alt":1545.1,"meta":{"time":1392463945000,"hr":164}},{"lat":47.744673,"lng":12.244166,"alt":1546.3,"meta":{"time":1392463957000,"hr":163}},{"lat":47.74475,"lng":12.244208,"alt":1551.1,"meta":{"time":1392463969000,"hr":163}},{"lat":47.744859,"lng":12.244269,"alt":1556,"meta":{"time":1392463979000,"hr":164}},{"lat":47.744931,"lng":12.244337,"alt":1551.6,"meta":{"time":1392463989000,"hr":163}},{"lat":47.74493,"lng":12.244364,"alt":1550.2,"meta":{"time":1392463999000,"hr":163}},{"lat":47.74497,"lng":12.24438,"alt":1547.7,"meta":{"time":1392464010000,"hr":162}},{"lat":47.745049,"lng":12.244437,"alt":1549.2,"meta":{"time":1392464022000,"hr":161}},{"lat":47.745232,"lng":12.244507,"alt":1553.1,"meta":{"time":1392464032000,"hr":160}},{"lat":47.745425,"lng":12.244587,"alt":1554.5,"meta":{"time":1392464043000,"hr":161}},{"lat":47.745524,"lng":12.244708,"alt":1557,"meta":{"time":1392464053000,"hr":162}},{"lat":47.745584,"lng":12.244838,"alt":1566.8,"meta":{"time":1392464064000,"hr":161}},{"lat":47.745642,"lng":12.244917,"alt":1565.5,"meta":{"time":1392464075000,"hr":161}},{"lat":47.745697,"lng":12.245029,"alt":1565.7,"meta":{"time":1392464087000,"hr":162}},{"lat":47.745749,"lng":12.245125,"alt":1561.8,"meta":{"time":1392464097000,"hr":160}},{"lat":47.745828,"lng":12.245244,"alt":1561.5,"meta":{"time":1392464108000,"hr":158}},{"lat":47.745904,"lng":12.245366,"alt":1568.3,"meta":{"time":1392464119000,"hr":156}},{"lat":47.745932,"lng":12.245516,"alt":1570.6,"meta":{"time":1392464130000,"hr":158}},{"lat":47.745998,"lng":12.245703,"alt":1569.6,"meta":{"time":1392464142000,"hr":157}},{"lat":47.746081,"lng":12.245825,"alt":1572.8,"meta":{"time":1392464153000,"hr":157}},{"lat":47.746082,"lng":12.245996,"alt":1577.6,"meta":{"time":1392464164000,"hr":156}},{"lat":47.746122,"lng":12.24614,"alt":1578.3,"meta":{"time":1392464176000,"hr":158}},{"lat":47.746135,"lng":12.246272,"alt":1580.7,"meta":{"time":1392464187000,"hr":159}},{"lat":47.7462,"lng":12.246401,"alt":1581.8,"meta":{"time":1392464198000,"hr":158}},{"lat":47.746177,"lng":12.246496,"alt":1584.9,"meta":{"time":1392464209000,"hr":155}},{"lat":47.746238,"lng":12.246651,"alt":1584.8,"meta":{"time":1392464219000,"hr":152}},{"lat":47.746269,"lng":12.246817,"alt":1586.6,"meta":{"time":1392464231000,"hr":156}},{"lat":47.746297,"lng":12.246956,"alt":1590.5,"meta":{"time":1392464241000,"hr":158}},{"lat":47.746369,"lng":12.247119,"alt":1587,"meta":{"time":1392464253000,"hr":156}},{"lat":47.746423,"lng":12.247209,"alt":1587.4,"meta":{"time":1392464264000,"hr":157}},{"lat":47.746506,"lng":12.247244,"alt":1580.2,"meta":{"time":1392464276000,"hr":158}},{"lat":47.746554,"lng":12.247418,"alt":1593.9,"meta":{"time":1392464287000,"hr":160}},{"lat":47.746544,"lng":12.247527,"alt":1597.7,"meta":{"time":1392464298000,"hr":159}},{"lat":47.746582,"lng":12.247648,"alt":1603.2,"meta":{"time":1392464309000,"hr":159}},{"lat":47.746613,"lng":12.247745,"alt":1603.1,"meta":{"time":1392464319000,"hr":160}},{"lat":47.746627,"lng":12.247757,"alt":1607.7,"meta":{"time":1392464329000,"hr":161}},{"lat":47.746601,"lng":12.247726,"alt":1609.2,"meta":{"time":1392464339000,"hr":161}},{"lat":47.746604,"lng":12.247711,"alt":1604.5,"meta":{"time":1392464350000,"hr":162}},{"lat":47.746605,"lng":12.247706,"alt":1603.3,"meta":{"time":1392464360000,"hr":164}},{"lat":47.746608,"lng":12.247712,"alt":1603.7,"meta":{"time":1392464370000,"hr":164}},{"lat":47.746616,"lng":12.247739,"alt":1602.3,"meta":{"time":1392464380000,"hr":165}},{"lat":47.746731,"lng":12.248015,"alt":1607.7,"meta":{"time":1392464391000,"hr":161}},{"lat":47.746822,"lng":12.248203,"alt":1604.4,"meta":{"time":1392464401000,"hr":153}},{"lat":47.746859,"lng":12.248425,"alt":1600.1,"meta":{"time":1392464413000,"hr":142}},{"lat":47.746929,"lng":12.248491,"alt":1604.3,"meta":{"time":1392464424000,"hr":139}},{"lat":47.746981,"lng":12.248643,"alt":1607.2,"meta":{"time":1392464435000,"hr":135}},{"lat":47.74705,"lng":12.248769,"alt":1610.8,"meta":{"time":1392464447000,"hr":142}},{"lat":47.747079,"lng":12.24889,"alt":1612.5,"meta":{"time":1392464458000,"hr":145}},{"lat":47.74712,"lng":12.248982,"alt":1613.7,"meta":{"time":1392464469000,"hr":153}},{"lat":47.747174,"lng":12.249001,"alt":1615.5,"meta":{"time":1392464479000,"hr":157}},{"lat":47.747216,"lng":12.249061,"alt":1615.5,"meta":{"time":1392464491000,"hr":160}},{"lat":47.747263,"lng":12.24906,"alt":1616.2,"meta":{"time":1392464501000,"hr":162}}];

  /*global L, Zepto*/
  (function ($) {
      'use strict';

      function Demo(mapId, multiOptionsKey) {
          this.mapId = mapId;
          this.selected = multiOptionsKey || 'altitude';
      }

      Demo.prototype = {
          constructor: Demo,

          trackPointFactory: function (data) {
              return data.map(function (item) {
                  var trkpt = L.latLng(item.lat, item.lng, item.alt);
                  trkpt.meta = item.meta;
                  return trkpt;
              });
          },

          loadData: function (name) {
              var me = this;

              $.getJSON(name, function (data) {
                  me.trackPoints = me.trackPointFactory(data);
                  me.showMapAndTrack();
              });
          },

          _multiOptions: {
              cpm: {
                  optionIdxFn: function (latLng) {
                      var i, hr = latLng.meta.cpm,
                          zones = [0, 5, 10, 15, 20, 25, 30, 35, 40]; // beats per minute

                      for (i = 0; i < zones.length; ++i) {
                          if (hr <= zones[i]) {
                              return i;
                          }
                      }
                      return zones.length;
                  },
                  options: [
                      {color: '#0000FF'}, {color: '#0040FF'}, {color: '#0080FF'}, // below zone
                      {color: '#00FFB0'}, {color: '#00E000'}, {color: '#80FF00'}, // in zone
                      {color: '#FFFF00'}, {color: '#FFC000'}, {color: '#FF0000'}  // above zone
                  ]
              }
          },

          showMapAndTrack: function () {
              var me = this,
                  points = me.trackPoints;

              if (!me.map) {
                  me.map = L.map(me.mapId);
                  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                  }).addTo(me.map);
              }

              if (me.visibleTrack) {
                  me.map.removeLayer(me.visibleTrack);
              }

              me.visibleTrack = L.featureGroup();

              // create a polyline from an arrays of LatLng points
              var polyline = L.multiOptionsPolyline(points, {
                  multiOptions: me._multiOptions[me.selected],
                  weight: 5,
                  lineCap: 'butt',
                  opacity: 0.75,
                  smoothFactor: 1}).addTo(me.visibleTrack);

              // zoom the map to the polyline
              me.map.fitBounds(polyline.getBounds());

              me.visibleTrack.addTo(me.map);
          }
      };

      new Demo('map', 'cpm').loadData('../pizero-gpslog_output/driving/2020-09-06_driving_camp_site_scouting/combined.json.leaflet.json');

  })(Zepto);
</script>
</body>
</html>
